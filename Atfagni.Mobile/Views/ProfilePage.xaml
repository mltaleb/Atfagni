<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Atfagni.Mobile.ViewModels"
             x:DataType="vm:ProfileViewModel"
             x:Class="Atfagni.Mobile.Views.ProfilePage"
             Title="Mon Profil">

    <VerticalStackLayout Padding="20" Spacing="20">

        <!-- Zone Photo avec clic pour changer -->
        <Grid HorizontalOptions="Center">
            <Border StrokeShape="RoundRectangle 60" HeightRequest="120" WidthRequest="120" Padding="0">
                <Image Source="{Binding ProfileImageSource}" Aspect="AspectFill" HeightRequest="120" WidthRequest="120" />
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ChangePhotoCommand}" />
                </Border.GestureRecognizers>
            </Border>
            <Label Text="ðŸ“·" HorizontalOptions="End" VerticalOptions="End" FontSize="20" Margin="0,0,10,10" />
        </Grid>

        <VerticalStackLayout Spacing="15">
            <Entry Placeholder="Nom complet" Text="{Binding FullName}" TextColor="Black" />
            <Entry Placeholder="TÃ©lÃ©phone" Text="{Binding PhoneNumber}" Keyboard="Telephone" TextColor="Black" />

            <Button Text="ENREGISTRER LES MODIFICATIONS" 
                Command="{Binding UpdateProfileCommand}"
                BackgroundColor="#2196F3" CornerRadius="10" HeightRequest="50" />
        </VerticalStackLayout>

        <BoxView HeightRequest="1" Color="LightGray" />

        <Button Text="Se DÃ©connecter" Command="{Binding LogoutCommand}" 
            BackgroundColor="Transparent" TextColor="Red" />
    </VerticalStackLayout>
</ContentPage>